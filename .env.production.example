########################################
# MantisNXT Production Environment
########################################

# Application
NODE_ENV=production
APP_PORT=3000
NEXT_PUBLIC_APP_URL=https://your-domain.com

# Primary Neon database (production)
DATABASE_URL=postgresql://<USER>:<PASSWORD>@<HOST>/<DATABASE>?sslmode=require
NEON_SPP_DATABASE_URL=${DATABASE_URL}
ENTERPRISE_DATABASE_URL=${DATABASE_URL}

# Connection pool tuning (production)
DB_POOL_MIN=10
DB_POOL_MAX=50
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=120000

# Redis (production - use managed service)
REDIS_URL=redis://<REDIS_HOST>:6379
# For Redis with TLS: rediss://:<PASSWORD>@<HOST>:6380

# Authentication & Security - MUST BE CHANGED
JWT_SECRET=<GENERATE_SECURE_32_CHAR_SECRET>
SESSION_SECRET=<GENERATE_SECURE_32_CHAR_SECRET>
NEXTAUTH_SECRET=<GENERATE_SECURE_32_CHAR_SECRET>
NEXTAUTH_URL=https://your-domain.com

# Feature toggles
ENABLE_ANALYTICS=true
ENABLE_AUDIT_LOGGING=true
ENABLE_RATE_LIMITING=true
REALTIME_ENABLED=true

# Rate limiting (production)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=60
RATE_LIMIT_AUTH_MAX=5

# Session configuration
SESSION_TTL=86400
SESSION_CLEANUP_INTERVAL=3600

# Logging
LOG_LEVEL=info
DEBUG_MODE=false
SLOW_QUERY_THRESHOLD_MS=1000

# Cache
CACHE_TTL_SECONDS=300

# Upload configuration
UPLOAD_MAX_SIZE=10485760
UPLOAD_DIR=/app/uploads

# Email (SMTP)
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your-smtp-user
SMTP_PASSWORD=your-smtp-password

# Monitoring (optional)
SENTRY_DSN=https://your-sentry-dsn
DATADOG_API_KEY=your-datadog-key

# IMPORTANT: Do NOT set ALLOW_PUBLIC_GET_ENDPOINTS in production
# This should only be used in development

########################################
# Security Checklist:
# [ ] Changed all secrets to secure random values
# [ ] Configured Redis with authentication
# [ ] Database uses SSL/TLS (sslmode=require)
# [ ] Rate limiting is enabled
# [ ] Audit logging is enabled
# [ ] ALLOW_PUBLIC_GET_ENDPOINTS is NOT set
# [ ] Monitoring is configured
########################################
