[
  {
    "id": "TC001",
    "title": "Supplier Pricelist Upload Success",
    "description": "Verify that a procurement analyst can successfully upload a supplier pricelist file through the upload wizard and that the file is validated, processed, and integrated correctly.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a user with Procument Analyst role."
      },
      {
        "type": "action",
        "description": "Navigate to the Supplier Pricelist Upload page."
      },
      {
        "type": "action",
        "description": "Start the upload wizard and select a valid pricelist file."
      },
      {
        "type": "assertion",
        "description": "System performs automated validation on the file without errors."
      },
      {
        "type": "action",
        "description": "Submit the valid pricelist for integration."
      },
      {
        "type": "assertion",
        "description": "Pricelist is ingested, merged into the canonical model, and audit trail entries are created."
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Pricelist Upload Validation Failure Handling",
    "description": "Verify that the upload wizard correctly detects validation errors in the pricelist file and provides clear feedback to allow error resolution.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a user with Procurement Analyst role."
      },
      {
        "type": "action",
        "description": "Navigate to the Supplier Pricelist Upload page."
      },
      {
        "type": "action",
        "description": "Start the upload wizard and select an invalid pricelist file with structural and data errors."
      },
      {
        "type": "assertion",
        "description": "System detects validation errors and displays detailed, actionable feedback."
      },
      {
        "type": "action",
        "description": "Attempt to submit the file."
      },
      {
        "type": "assertion",
        "description": "Submission is blocked until errors are resolved."
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Single Active Inventory Selection Enforcement",
    "description": "Verify that the system enforces the business rule allowing only one active selection per product and maintains historical selections for analytics.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as Inventory Manager."
      },
      {
        "type": "action",
        "description": "Navigate to the Inventory Selection Interface."
      },
      {
        "type": "action",
        "description": "Activate a selection for a certain product from a supplier."
      },
      {
        "type": "assertion",
        "description": "The selection is marked active and reflected on the dashboard."
      },
      {
        "type": "action",
        "description": "Attempt to activate a second selection for the same product from a different supplier."
      },
      {
        "type": "assertion",
        "description": "System prevents multiple active selections for the same product and prompts to deactivate the current active before activating another."
      },
      {
        "type": "action",
        "description": "Deactivate the first selection and activate the second selection."
      },
      {
        "type": "assertion",
        "description": "Historical selections remain retrievable for analytics and reporting."
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Stock on Hand Real-time Status and Alerts",
    "description": "Verify real-time stock reporting reflects accurate stock levels, and alerts are triggered upon threshold breaches.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as Inventory Manager or authorized user."
      },
      {
        "type": "action",
        "description": "Navigate to the Stock on Hand Reporting dashboard."
      },
      {
        "type": "assertion",
        "description": "Dashboard displays real-time data covering over 98% of SKUs with correct stock status."
      },
      {
        "type": "action",
        "description": "Simulate stock dropping below an alert threshold."
      },
      {
        "type": "assertion",
        "description": "System triggers threshold breach alerts and updates visual indicators on the dashboard."
      }
    ]
  },
  {
    "id": "TC005",
    "title": "REST API Authentication and Authorization",
    "description": "Verify that all REST API endpoints enforce JWT-based authentication and role-based authorization with proper error handling.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Attempt to access a secured REST API endpoint without token."
      },
      {
        "type": "assertion",
        "description": "Access is denied with 401 Unauthorized error."
      },
      {
        "type": "action",
        "description": "Attempt to access a secured endpoint with an invalid or expired token."
      },
      {
        "type": "assertion",
        "description": "Access is denied with 401 Unauthorized or 403 Forbidden as appropriate."
      },
      {
        "type": "action",
        "description": "Attempt to perform an action not allowed by the user's role with valid token."
      },
      {
        "type": "assertion",
        "description": "Access is denied with 403 Forbidden."
      },
      {
        "type": "action",
        "description": "Perform allowed actions with valid token and appropriate role."
      },
      {
        "type": "assertion",
        "description": "Actions complete successfully with correct response codes."
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Role-Based Access Control for UI Views",
    "description": "Verify the role-based access control on the web UI views such as dashboard, selections, stock reports, and pricelist upload pages.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as Inventory Manager."
      },
      {
        "type": "assertion",
        "description": "Access is granted to Inventory dashboard, Selection Interface, and Stock reports."
      },
      {
        "type": "assertion",
        "description": "Pricelist upload page is not accessible."
      },
      {
        "type": "action",
        "description": "Logout and login as Procurement Analyst."
      },
      {
        "type": "assertion",
        "description": "Access is granted to Pricelist Upload wizard and Supplier Dashboard."
      },
      {
        "type": "assertion",
        "description": "Inventory selection UI and stock reports are not accessible."
      },
      {
        "type": "action",
        "description": "Logout and login as Finance Controller."
      },
      {
        "type": "assertion",
        "description": "Access is granted to Analytics dashboard and reporting features."
      }
    ]
  },
  {
    "id": "TC007",
    "title": "API Performance Monitoring and Error Rate Verification",
    "description": "Verify the API performance meets the latency (<500 ms p95) and error rate (<0.1%) criteria using monitoring endpoints.",
    "category": "performance",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Use integration CLI or API to generate load simulating normal and peak usage patterns."
      },
      {
        "type": "action",
        "description": "Access API performance monitoring endpoints."
      },
      {
        "type": "assertion",
        "description": "API error rates remain below 0.1%."
      },
      {
        "type": "assertion",
        "description": "p95 query latency remains below 500 ms."
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Audit Logging of Pricelist Upload and Selection Activation",
    "description": "Verify audit trails are created correctly for supplier pricelist uploads, validations, and activation/deactivation of inventory selections.",
    "category": "security",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login as Procurement Analyst and upload a supplier pricelist."
      },
      {
        "type": "assertion",
        "description": "Audit log entry is created with user, timestamp, file details, and validation results."
      },
      {
        "type": "action",
        "description": "Login as Inventory Manager and activate a product selection."
      },
      {
        "type": "assertion",
        "description": "Audit log entry is created with user, timestamp, product and supplier details, and activation status."
      },
      {
        "type": "action",
        "description": "Deactivate the product selection."
      },
      {
        "type": "assertion",
        "description": "Deactivation is also logged in the audit trail."
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Pricelist Upload Invalid File Format Handling",
    "description": "Verify system behavior when uploading files with unsupported formats or corrupted files.",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login as Procurement Analyst."
      },
      {
        "type": "action",
        "description": "Navigate to Pricelist Upload wizard."
      },
      {
        "type": "action",
        "description": "Attempt to upload a file with unsupported format (e.g., .exe, .txt)."
      },
      {
        "type": "assertion",
        "description": "System rejects the upload and displays a clear error message about allowed file types."
      },
      {
        "type": "action",
        "description": "Attempt to upload a corrupted or partially downloaded file."
      },
      {
        "type": "assertion",
        "description": "System detects file corruption and prompts the user to re-upload a valid file."
      }
    ]
  },
  {
    "id": "TC010",
    "title": "Integration CLI Script Execution and Rollback",
    "description": "Verify CLI scripts for schema setup, data seeding, verification, and database migrations perform correctly and support rollback.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Run integration CLI script to setup schema on a fresh environment."
      },
      {
        "type": "assertion",
        "description": "Schema is created successfully without errors."
      },
      {
        "type": "action",
        "description": "Run data seeding CLI script to populate sample data."
      },
      {
        "type": "assertion",
        "description": "Sample data is inserted correctly."
      },
      {
        "type": "action",
        "description": "Run database migration with rollback option."
      },
      {
        "type": "assertion",
        "description": "Migration applies changes successfully and rollback restores previous schema state."
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Dashboard Real-time Data Visualization Accuracy",
    "description": "Verify real-time dashboards display correct metrics, KPIs, and data visualizations with filtering capabilities.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login as authorized user."
      },
      {
        "type": "action",
        "description": "Navigate to Real-time Dashboard."
      },
      {
        "type": "assertion",
        "description": "Dashboard shows up-to-date metrics on supplier pricing, stock levels, and cost trends."
      },
      {
        "type": "action",
        "description": "Apply various filters (by supplier, date range, product categories)."
      },
      {
        "type": "assertion",
        "description": "Dashboard data updates accordingly reflecting filters with no lag."
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Invoice Management Data Integrity and Access",
    "description": "Verify that invoice management pages correctly integrate supplier data and financial tracking with role-based access enforced.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Login as Finance Controller."
      },
      {
        "type": "action",
        "description": "Navigate to the Invoice Management page."
      },
      {
        "type": "assertion",
        "description": "Invoices linked to suppliers display accurate financial data."
      },
      {
        "type": "action",
        "description": "Attempt to access Invoice Management as Inventory Manager."
      },
      {
        "type": "assertion",
        "description": "Access denied or restricted as per role-based policy."
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Security Compliance: Secure Credential Storage and Audit Logging",
    "description": "Verify user credentials are securely stored and audit logging complies with South African regulatory standards.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Register a new user with password."
      },
      {
        "type": "assertion",
        "description": "Passwords are hashed with bcrypt and no plaintext credentials stored."
      },
      {
        "type": "action",
        "description": "Perform user login."
      },
      {
        "type": "assertion",
        "description": "JWT token is issued securely and revoked properly on logout."
      },
      {
        "type": "action",
        "description": "Review audit logs of login, logout, and role changes."
      },
      {
        "type": "assertion",
        "description": "Audit entries contain required fields per POPIA and financial compliance guidelines."
      }
    ]
  }
]
