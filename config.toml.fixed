# =============================================================================
# CODEX CONFIGURATION FILE
# =============================================================================
# Defines trusted project directories and MCP server configurations
# Updated: 2025-12-07 - Security fixes applied
# =============================================================================

# ----------------------------------------------------------------------------- 
# GLOBAL MODEL SETTINGS
# -----------------------------------------------------------------------------
model = "gpt-5.1-codex-max"
model_reasoning_effort = "high"

# =============================================================================
# TRUSTED PROJECT DIRECTORIES
# =============================================================================
[projects]

# Development Environment Directories
"I:\\00-DEV" = { trust_level = "trusted" }

# Production-related development directories
"I:\\00-DEV\\NXT-PROD\\nxt-prod-production" = { trust_level = "trusted" }
"I:\\00-DEV\\NXT-PROD" = { trust_level = "trusted" }

# User-specific directories
"C:\\Users\\garet\\Downloads" = { trust_level = "trusted" }

# Production build environments
"C:\\.ProductionDevelopmentENV\\BB-PROD-BUILD" = { trust_level = "trusted" }
"C:\\.ProductionDevelopmentENV\\BB-PRODX\\BB-PRODX" = { trust_level = "trusted" }

# Project-specific directories
"K:\\00Project\\00Project" = { trust_level = "trusted" }
"K:\\.ProductionDevelopmentENV\\BB-PRODX\\BB-PRODX" = { trust_level = "trusted" }

# System directories (use with caution)
"C:\\WINDOWS\\system32" = { trust_level = "trusted" }

# External drives
"E:\\" = { trust_level = "trusted" }

# Primary MantisNXT project directory - canonical entry
"K:\\00Project\\MantisNXT" = { trust_level = "trusted" }

# =============================================================================
# MCP SERVER CONFIGURATIONS
# =============================================================================

# Contextual Model Protocol Servers
[mcpservers.context7]
command = "npx"
args = ["-y", "@upstash/context7-mcp@latest"]

[mcpservers.sequential-thinking]
command = "npx"
args = ["-y", "@modelcontextprotocol/server-sequential-thinking"]

[mcpservers.MCP_DOCKER]
command = "docker"
args = ["mcp", "gateway", "run"]

[mcpservers.MCP_DOCKER.env]
LOCALAPPDATA = "C:\\Users\\garet\\AppData\\Local"
ProgramData = "C:\\ProgramData"
ProgramFiles = "C:\\Program Files"

[mcpservers.github]
command = "npx"
args = ["-y", "@modelcontextprotocol/server-github"]

[mcpservers.github.env]
# GitHub PAT should be set via environment variable for security
GITHUB_PERSONAL_ACCESS_TOKEN = "${GITHUB_PAT}"

[mcpservers.git-mcp]
command = "npx"
args = ["mcp-remote", "https://gitmcp.io/{owner}/{repo}"]

[mcpservers.chrome-devtools]
command = "npx"
args = ["chrome-devtools-mcp@latest"]

[mcpservers.TestSprite]
command = "npx"
args = ["@testsprite/testsprite-mcp@latest"]

[mcpservers.TestSprite.env]
# API Key should be set via environment variable for security
API_KEY = "${TESTSPRITE_API_KEY}"

[mcpservers.neon]
command = "npx"
args = ["-y", "@neon/mcp-server@latest"]

[mcpservers.neon.env]
# Neon API Key should be set via environment variable for security
NEON_API_KEY = "${NEON_API_KEY}"

# =============================================================================
# FEATURE FLAGS
# =============================================================================
[features]
# Enable experimental Windows sandbox support for enhanced security
enable_experimental_windows_sandbox = true

# =============================================================================
# NOTICE SETTINGS
# =============================================================================
[notice]
hide_world_writable_warning = true