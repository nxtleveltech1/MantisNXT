@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CSS VARIABLES - Single Source of Truth
   oklch values used directly by Tailwind
    ============================================ */

:root {
  --radius: 0.625rem;

  /* Core colors */
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(1 0 0);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);

  /* Chart colors */
  --chart-1: oklch(0.81 0.1 252);
  --chart-2: oklch(0.62 0.19 260);
  --chart-3: oklch(0.55 0.22 263);
  --chart-4: oklch(0.49 0.22 264);
  --chart-5: oklch(0.42 0.18 266);

  /* Sidebar - solid light background */
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.95 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.9 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  /* Status colors */
  --success: oklch(0.7 0.2 145);
  --success-foreground: oklch(1 0 0);
  --warning: oklch(0.75 0.18 60);
  --warning-foreground: oklch(0.2 0 0);
  --info: oklch(0.65 0.2 200);
  --info-foreground: oklch(1 0 0);

  /* Font stacks */
  --font-sans:
    'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
    'Helvetica Neue', Arial, sans-serif;
  --font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif;
  --font-mono:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
    monospace;

  /* Sidebar dimensions */
  --sidebar-width: 16rem;
  --sidebar-width-mobile: 18rem;
  --sidebar-width-icon: 3.5rem;
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.18 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.18 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.145 0 0);
  --secondary: oklch(0.27 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.27 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.27 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --destructive-foreground: oklch(0.985 0 0);
  --border: oklch(0.27 0 0);
  --input: oklch(0.27 0 0);
  --ring: oklch(0.556 0 0);

  /* Chart colors */
  --chart-1: oklch(0.81 0.1 252);
  --chart-2: oklch(0.62 0.19 260);
  --chart-3: oklch(0.55 0.22 263);
  --chart-4: oklch(0.49 0.22 264);
  --chart-5: oklch(0.42 0.18 266);

  /* Sidebar - solid dark background */
  --sidebar: oklch(0.16 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.985 0 0);
  --sidebar-primary-foreground: oklch(0.145 0 0);
  --sidebar-accent: oklch(0.22 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.27 0 0);
  --sidebar-ring: oklch(0.556 0 0);

  /* Status colors */
  --success: oklch(0.7 0.2 145);
  --success-foreground: oklch(1 0 0);
  --warning: oklch(0.75 0.18 60);
  --warning-foreground: oklch(0.2 0 0);
  --info: oklch(0.65 0.2 200);
  --info-foreground: oklch(1 0 0);
}

/* ============================================
   BASE LAYER
   ============================================ */

@layer base {
  * {
    @apply border-border;
    /* Disable all font ligatures globally */
    font-variant-ligatures: none !important;
    font-feature-settings:
      'liga' 0,
      'clig' 0,
      'dlig' 0,
      'hlig' 0,
      'calt' 0 !important;
  }

  html {
    font-size: 100%;
  }

  body {
    @apply bg-background text-foreground;
    font-family:
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      'Helvetica Neue',
      Arial,
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-variant-ligatures: none;
    font-feature-settings:
      'liga' 0,
      'clig' 0,
      'dlig' 0,
      'hlig' 0,
      'calt' 0;
    text-rendering: optimizeSpeed;
  }

  h1 {
    @apply text-4xl font-bold tracking-tight;
  }

  h2 {
    @apply text-3xl font-semibold tracking-tight;
  }

  h3 {
    @apply text-2xl font-semibold;
  }

  h4 {
    @apply text-xl font-semibold;
  }

  .font-inter {
    font-family:
      'Inter',
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      Roboto,
      'Helvetica Neue',
      Arial,
      sans-serif;
  }
}

/* ============================================
   SIDEBAR FIXES - Ensure solid background
   ============================================ */

[data-slot='sidebar-inner'],
[data-sidebar='sidebar'] {
  background-color: var(--sidebar) !important;
}

[data-slot='sidebar-wrapper'] {
  background-color: var(--sidebar);
}

/* ============================================
   COMPONENT UTILITIES
   ============================================ */

.btn-primary {
  @apply bg-primary text-primary-foreground transition-all duration-200;
  @apply shadow-md hover:shadow-lg;
  @apply rounded-md px-4 py-2 font-medium;
}

.btn-primary:hover {
  opacity: 0.9;
}

.btn-primary:active {
  transform: scale(0.98);
}

.btn-secondary {
  @apply bg-secondary text-secondary-foreground transition-all duration-200;
  @apply shadow-sm hover:shadow-md;
  @apply rounded-md px-4 py-2 font-medium;
}

.btn-secondary:hover {
  opacity: 0.8;
}

.btn-secondary:active {
  transform: scale(0.98);
}

.card-hover {
  @apply border border-border transition-all duration-300;
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
}

.card-interactive {
  @apply cursor-pointer border border-border transition-all duration-200;
}

.card-interactive:hover {
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
}

.card-interactive:active {
  transform: scale(0.99);
}

.card-modern {
  @apply rounded-lg border border-border bg-card shadow-sm transition-all duration-200;
}

.card-clean {
  @apply rounded-xl border border-border bg-card shadow-sm transition-shadow duration-200;
}

.card-clean:hover {
  @apply shadow-md;
}

/* ============================================
   BADGE UTILITIES
   ============================================ */

.badge-success {
  color: var(--success);
  border: 1px solid color-mix(in oklch, var(--success) 30%, transparent);
  background-color: color-mix(in oklch, var(--success) 15%, transparent);
}

.badge-warning {
  color: var(--warning);
  border: 1px solid color-mix(in oklch, var(--warning) 30%, transparent);
  background-color: color-mix(in oklch, var(--warning) 15%, transparent);
}

.badge-error {
  color: var(--destructive);
  border: 1px solid color-mix(in oklch, var(--destructive) 30%, transparent);
  background-color: color-mix(in oklch, var(--destructive) 15%, transparent);
}

.badge-info {
  color: var(--info);
  border: 1px solid color-mix(in oklch, var(--info) 30%, transparent);
  background-color: color-mix(in oklch, var(--info) 15%, transparent);
}

/* ============================================
   TRANSITION UTILITIES
   ============================================ */

.transition-smooth {
  @apply transition-all duration-300 ease-in-out;
}

.transition-fast {
  @apply transition-all duration-150 ease-in-out;
}

.transition-slow {
  @apply transition-all duration-500 ease-in-out;
}

.theme-transition {
  transition:
    background-color 200ms ease-in-out,
    color 200ms ease-in-out,
    border-color 200ms ease-in-out;
}

/* ============================================
   GLASS UTILITIES
   ============================================ */

.glass {
  @apply border border-border bg-card backdrop-blur-md;
}

.glass-dark {
  @apply border border-border bg-background backdrop-blur-md;
}

/* ============================================
   SKELETON LOADING
   ============================================ */

.skeleton {
  @apply animate-pulse rounded bg-muted;
}

/* ============================================
   ANIMATIONS
   ============================================ */

@layer utilities {
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  .animate-slide-in {
    animation: slideIn 0.4s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.3s ease-out;
  }
}

/* ============================================
   RESPONSIVE SIDEBAR
   ============================================ */

@media (max-width: 1024px) {
  :root {
    --sidebar-width: 14rem;
  }
}

@media (max-width: 768px) {
  :root {
    --sidebar-width: 16rem;
    --sidebar-width-mobile: 18rem;
  }
}

@media (max-width: 640px) {
  :root {
    --sidebar-width-mobile: 20rem;
  }
}

/* ============================================
   PROCESSING INDICATOR ANIMATIONS
   ============================================ */

@keyframes processingPulse {
  0%,
  100% {
    opacity: 0.5;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
  }
}

@keyframes dataFlow {
  0% {
    stroke-dashoffset: 100;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

@keyframes scanLine {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes glowPulse {
  0%,
  100% {
    filter: drop-shadow(0 0 4px currentColor);
  }
  50% {
    filter: drop-shadow(0 0 12px currentColor);
  }
}

.processing-indicator-glow {
  animation: glowPulse 1.5s ease-in-out infinite;
}

.processing-indicator-scan {
  animation: scanLine 3s linear infinite;
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  * {
    transition: none !important;
    animation: none !important;
  }
}
